<dp-basic-modal (sendEvent)="submit()">
  <span modal-title>Change Password</span>
  <span modal-body class="w-full">
    <form [formGroup]="formGroup" class="w-full grid grid-cols-1 gap-6">
      <dp-loading-bar *ngIf="loading$ | async"></dp-loading-bar>
      <mat-form-field>
        <mat-label>Enter Current Password</mat-label>
        <input
          matInput
          [type]="hideOldPassword ? 'password' : 'text'"
          formControlName="oldPassword"
        />
        <button
          type="button"
          matSuffix
          mat-icon-button
          (click)="hideOldPassword = !hideOldPassword"
        >
          <mat-icon
            [svgIcon]="
              hideOldPassword ? 'custom_icons:edge' : 'custom_icons:no-edge'
            "
          ></mat-icon>
        </button>
        <mat-error
          *ngIf="this.formGroup.get('oldPassword')?.errors?.['required']"
        >
          <dp-input-error [message]="'Password is required'"></dp-input-error>
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Enter New Password</mat-label>
        <input
          matInput
          [type]="hideNewPassword ? 'password' : 'text'"
          formControlName="newPassword"
        />
        <button
          type="button"
          matSuffix
          mat-icon-button
          (click)="hideNewPassword = !hideNewPassword"
        >
          <mat-icon
            [svgIcon]="
              hideNewPassword ? 'custom_icons:edge' : 'custom_icons:no-edge'
            "
          ></mat-icon>
        </button>
        <mat-error
          *ngIf="this.formGroup.get('newPassword')?.errors?.['required']"
        >
          <dp-input-error [message]="'Password is required'"></dp-input-error>
        </mat-error>
      </mat-form-field>
    </form>
  </span>
  <ng-container modal-footer>Save</ng-container>
</dp-basic-modal>
